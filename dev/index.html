<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Card With Select Plugin Test | EditorJS</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css"
    />
  </head>
  <body>
    <div id="editorjs"></div>
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script type="module">
      import ImageTool from '../src/index.ts';
      import CardWithSelectTool from '../src';

      const editor = new EditorJS({
        holder: 'editorjs',
        data: {
          time: 1700475383740,
          blocks: [
            // {
            //   id: "hZAjSnqYMX",
            //   type: "image",
            //   data: {
            //     file: {
            //       url: "https://images.unsplash.com/photo-1607604276583-eef5d076aa5f?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
            //     },
            //     withBorder: false,
            //     withBackground: false,
            //     stretched: false,
            //     caption: "kimitsu no yayiba",
            //   },
            // },
            {
              id: 'fasd',
              type: 'selectBlogs',
              data: {
                items: [
                  {
                    title: 'asd',
                    description: 'asd',
                    entityId: '471',
                  },
                ],
              },
            },
          ],
        },

        tools: {
          image: {
            class: ImageTool,
            config: {
              endpoints: {
                byFile: 'http://localhost:8008/uploadFile',
                byUrl: 'http://localhost:8008/fetchUrl',
              },
              features: {
                caption: 'optional',
                border: false,
                background: false,
                stretch: true,
              },
            },
          },
          selectBlogs: {
            class: CardWithSelectTool,
            toolbox: {
              title: 'Выбор статей блога',
            },
            config: {
              endpoint: 'https://admin-weeek.local.gd/blog/ajax-blog-list',
              endpointOne: 'https://admin-weeek.local.gd/blog/ajax-blog-by-id',
            },
          },
        },
      });
    </script>
  </body>
</html>
